{"version":3,"sources":["core/game.ts"],"names":[],"mappings":"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","file":"core/game.js","sourcesContent":["/*\r\n ***************************************************************************************\r\n * Source file name : game.ts                                                          *\r\n * Author's name : Duc Minh Tran (300771859)                                           *\r\n * Last Modified by : Duc Minh Tran (300771859)                                        *\r\n * Last Modified date : March 27 2016                                                  *\r\n * Program description : This is a webgame that use  a Side Scroller background        * \r\n *                                                                                     *  \r\n * Revision History : 1 - Update Internal Documentation                                *\r\n *                    2 - Add Wining Scene                                             *\r\n ***************************************************************************************\r\n*/\r\n\r\n\r\n/// <reference path = \"_reference.ts\" />\r\n\r\n// global variables\r\nvar assets: createjs.LoadQueue;\r\nvar canvas: HTMLElement;\r\nvar stage: createjs.Stage;\r\nvar stats: Stats;\r\n\r\nvar currentScene: objects.Scene;\r\nvar scene: number;\r\n\r\n// Game Scenes\r\nvar loading: scenes.Loading;\r\nvar menu: scenes.Menu;\r\nvar instruction: scenes.Instruction;\r\nvar play: scenes.Play;\r\nvar end: scenes.End;\r\nvar win: scenes.Win;\r\n\r\nvar assetData: objects.Asset[] = [\r\n\r\n    { id: \"StartButton\", src: \"../../Assets/images/StartButton.png\" },\r\n    { id: \"RestartButton\", src: \"../../Assets/images/RestartButton.png\" },\r\n    { id: \"BackButton\", src: \"../../Assets/images/BackButton.png\" },\r\n    { id: \"night\", src: \"../../Assets/sample/ocean.png\" },\r\n    { id: \"bullet\", src: \"../../Assets/images/bullet.png\" },\r\n    { id: \"menuBG\", src: \"../../Assets/sample/menuBg-resized.jpg\" },\r\n    { id: \"end\", src: \"../../Assets/images/End-fixed.jpg\" },\r\n    { id: \"instruction\", src: \"../../Assets/images/instruction.jpg\" },\r\n    { id: \"win\", src: \"../../Assets/images/win.jpg\" },\r\n\r\n\r\n    //fly effect\r\n    { id: \"ironman\", src: \"../../Assets/images/ironman.png\" },\r\n    { id: \"ironman1\", src: \"../../Assets/images/ironman1.png\" },\r\n    { id: \"ironman2\", src: \"../../Assets/images/ironman2.png\" },\r\n    { id: \"ironman3\", src: \"../../Assets/images/ironman3.png\" },\r\n\r\n    { id: \"ironmanShoot\", src: \"../../Assets/images/ironmanShoot.png\" },\r\n    { id: \"arcReactorFixed\", src: \"../../Assets/images/arcReactor-fixed.png\" },\r\n    { id: \"captainShield\", src: \"../../Assets/images/captainShield.png\" },\r\n\r\n    //hit effect\r\n    { id: \"ironmanHit\", src: \"../../Assets/images/getHit.png\" },\r\n    { id: \"ironmanHit1\", src: \"../../Assets/images/getHit1.png\" },\r\n    { id: \"ironmanHit2\", src: \"../../Assets/images/getHit2.png\" },\r\n    { id: \"ironmanHit3\", src: \"../../Assets/images/getHit3.png\" },\r\n    { id: \"dead\", src: \"../../Assets/images/dead.png\" },\r\n\r\n    //healing effect\r\n    { id: \"healed\", src: \"../../Assets/images/ironmanHealed.png\" },\r\n    { id: \"healed1\", src: \"../../Assets/images/ironmanHealed1.png\" },\r\n    { id: \"healed2\", src: \"../../Assets/images/ironmanHealed2.png\" },\r\n    { id: \"healed3\", src: \"../../Assets/images/ironmanHealed3.png\" },\r\n    { id: \"health\", src: \"../../Assets/images/health-fixed.png\" },\r\n\r\n\r\n    { id: \"blank\", src: \"../../Assets/images/blank.png\" },\r\n\r\n\r\n    //audio\r\n    { id: \"bmg\", src: \"../../Assets/sample/bmg.mp3\" },\r\n\r\n    { id: \"leftClick\", src: \"../../Assets/audio/leftClick.mp3\" },\r\n    { id: \"shoot\", src: \"../../Assets/audio/shoot.mp3\" },\r\n    { id: \"heal\", src: \"../../Assets/audio/heal.mp3\" },\r\n    { id: \"ricochet\", src: \"../../Assets/audio/ricochet.mp3\" },\r\n    { id: \"shocked\", src: \"../../Assets/audio/shocked.mp3\" },\r\n\r\n\r\n\r\n];\r\n\r\n\r\n//preload assets\r\nfunction preload() {\r\n    scene = config.Scene.MENU;\r\n    assets = new createjs.LoadQueue();\r\n    assets.installPlugin(createjs.Sound);\r\n    assets.on(\"complete\", changeScene, this);\r\n    assets.loadManifest(assetData);\r\n}\r\n\r\n//init main stage\r\nfunction init(): void {\r\n    // create a reference the HTML canvas Element\r\n    canvas = document.getElementById(\"canvas\");\r\n\r\n    // create our main display list container\r\n    stage = new createjs.Stage(canvas);\r\n\r\n    // Enable mouse events\r\n    stage.enableMouseOver(20);\r\n\r\n    // set the framerate to 60 frames per second\r\n    createjs.Ticker.setFPS(config.Game.FPS);\r\n\r\n    // create an event listener to count off frames\r\n    createjs.Ticker.on(\"tick\", gameLoop, this);\r\n\r\n    // sets up our stats counting workflow\r\n    setupStats();\r\n\r\n    // set initial scene\r\n    scene = config.Scene.LOADING;\r\n    changeScene();\r\n\r\n    //preload data\r\n    preload();\r\n}\r\n\r\n// Main Game Loop function that handles what happens each \"tick\" or frame\r\nfunction gameLoop(event: createjs.Event): void {\r\n    // start collecting stats for this frame\r\n    stats.begin();\r\n\r\n    // calling State's update method\r\n    currentScene.update();\r\n\r\n    // redraw/refresh stage every frame\r\n    stage.update();\r\n\r\n    // stop collecting stats for this frame\r\n    stats.end();\r\n}\r\n\r\n// Setup Game Stats\r\nfunction setupStats(): void {\r\n    stats = new Stats();\r\n    stats.setMode(0); // shows fps\r\n    stats.domElement.style.position = \"absolute\";\r\n    stats.domElement.style.left = \"0px\";\r\n    stats.domElement.style.top = \"0px\";\r\n    document.body.appendChild(stats.domElement);\r\n}\r\n\r\n// Finite State Machine used to change Scenes\r\nfunction changeScene(): void {\r\n\r\n    // Launch various scenes\r\n    switch (scene) {\r\n        case config.Scene.LOADING:\r\n            // show the loading scene\r\n            stage.removeAllChildren();\r\n            loading = new scenes.Loading();\r\n            currentScene = loading;\r\n            console.log(\"Starting loading Scene\");\r\n            break;\r\n        case config.Scene.MENU:\r\n            // show the MENU scene\r\n            stage.removeAllChildren();\r\n            menu = new scenes.Menu();\r\n            currentScene = menu;\r\n            console.log(\"Starting MENU Scene\");\r\n            break;\r\n        case config.Scene.INSTRUCTION:\r\n            // show the MENU scene\r\n            stage.removeAllChildren();\r\n            instruction = new scenes.Instruction();\r\n            currentScene = instruction;\r\n            console.log(\"Starting instruction Scene\");\r\n            break;\r\n        case config.Scene.PLAY:\r\n            // show the PLAY scene\r\n            stage.removeAllChildren();\r\n            play = new scenes.Play();\r\n            currentScene = play;\r\n            console.log(\"Starting PLAY Scene\");\r\n            break;\r\n        case config.Scene.END:\r\n            // show the END scene\r\n            stage.removeAllChildren();\r\n            end = new scenes.End();\r\n            currentScene = end;\r\n            console.log(\"Starting END Scene\");\r\n            break;\r\n        case config.Scene.WIN:\r\n            // show the END scene\r\n            stage.removeAllChildren();\r\n            win = new scenes.Win();\r\n            currentScene = win;\r\n            console.log(\"Starting win Scene\");\r\n            break;\r\n    }\r\n\r\n}\r\n\r\nwindow.onload = init;"],"sourceRoot":"/source/"}