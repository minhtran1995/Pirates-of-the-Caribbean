{"version":3,"sources":["objects/player.ts"],"names":[],"mappings":"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","file":"objects/player.js","sourcesContent":["/*\r\n ***************************************************************************************\r\n * Source file name : player.ts                                                        *\r\n * Author's name : Duc Minh Tran (300771859)                                           *\r\n * Last Modified by : Duc Minh Tran (300771859)                                        *\r\n * Last Modified date : March 27 2016                                                  *\r\n * Program description : This is a webgame that use  a Side Scroller background        * \r\n *                                                                                     *  \r\n * Revision History : 1 - Update Internal Documentation                                *\r\n *                                                                                     *\r\n ***************************************************************************************\r\n*/\r\n\r\nmodule objects {\r\n    export class Player extends createjs.Bitmap {\r\n\r\n        public width: number;\r\n        public height: number;\r\n\r\n        private _topBounds: number;\r\n        private _bottomBounds: number;\r\n\r\n        private static flag: boolean;\r\n\r\n        public hitHealth: boolean;\r\n        public hitShield: boolean;\r\n\r\n        public isShooting: boolean;\r\n        public isDead: boolean;\r\n\r\n        constructor() {\r\n            super(assets.getResult(\"ironman\"));\r\n            this.y = stage.mouseY;\r\n            this.width = this.getBounds().width;\r\n            this.height = this.getBounds().height;\r\n\r\n            this.regX = this.width * 0.5;\r\n            this.regY = this.height * 0.5;\r\n\r\n            this._topBounds = this.height * 0.5;\r\n            this._bottomBounds = config.Screen.HEIGHT - this.height * 0.5;\r\n            this.x = this.regX;\r\n\r\n            Player.flag = false;\r\n\r\n            this.hitHealth = false;\r\n            this.hitShield = false;\r\n            this.isShooting = false;\r\n            this.isDead = false;\r\n        }\r\n\r\n\r\n        //check if player is in the allowed range\r\n        private _checkBounds(): void {\r\n\r\n            if (this.y < 400) {\r\n                this.y = 400;\r\n            }\r\n            if (this.y > this._bottomBounds) {\r\n                this.y = this._bottomBounds;\r\n            }\r\n        }\r\n\r\n\r\n        //update game objects in my scene\r\n        public update(): void {\r\n\r\n\r\n            this.y = stage.mouseY;\r\n\r\n\r\n\r\n            window.onmouseup = function() {\r\n                Player.flag = false;\r\n            }\r\n\r\n            if (this.isDead) {\r\n                this.y = this._bottomBounds - this.height;\r\n                this.image = this.shuffleImages(\"dead\");\r\n\r\n                window.onmousedown = function() {\r\n                    console.log(\"Mouse disabled\");\r\n                };\r\n            }\r\n            else {\r\n\r\n                window.onmousedown = function() {\r\n                    console.log(\"Shoot\");\r\n                    Player.flag = true;\r\n                    createjs.Sound.play(\"leftClick\");\r\n                    createjs.Sound.play(\"shoot\").volume = 0.5;\r\n\r\n                };\r\n\r\n\r\n\r\n                if (this.hitHealth) {\r\n                    this.image = this.shuffleImages(\"health\");\r\n                }\r\n                else {\r\n                    if (this.hitShield) {\r\n                        this.image = this.shuffleImages(\"hit\");\r\n                    }\r\n                    else {\r\n                        if (!Player.flag) {\r\n                            this.image = this.shuffleImages(\"\");\r\n                            this.isShooting = false;\r\n                        }\r\n                        else {\r\n                            this.image = this.shuffleImages(\"shoot\");\r\n                            this.isShooting = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this._checkBounds();\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n        //change player images - Animation\r\n        public shuffleImages(val: string): Object {\r\n            var obj = new Array<Object>();\r\n\r\n            obj[0] = assets.getResult(\"ironman1\");\r\n            obj[1] = assets.getResult(\"ironman2\");\r\n            obj[2] = assets.getResult(\"ironman3\");\r\n\r\n            obj[3] = assets.getResult(\"ironmanShoot\");\r\n\r\n            //healed animation\r\n            obj[4] = assets.getResult(\"healed\");\r\n            obj[5] = assets.getResult(\"healed1\");\r\n            obj[6] = assets.getResult(\"healed2\");\r\n            obj[7] = assets.getResult(\"healed3\");\r\n\r\n\r\n            //hit animation\r\n            obj[8] = assets.getResult(\"ironmanHit\");\r\n            obj[9] = assets.getResult(\"ironmanHit1\");\r\n            obj[10] = assets.getResult(\"ironmanHit2\");\r\n            obj[11] = assets.getResult(\"ironmanHit3\");\r\n\r\n            //die\r\n            obj[12] = assets.getResult(\"dead\");\r\n\r\n\r\n\r\n            var rand: number = Math.round(Math.random() * 2);\r\n\r\n            if (val === \"\") {\r\n                return obj[rand];\r\n            }\r\n            else if (val === \"shoot\") {\r\n                return obj[3];\r\n            }\r\n            else if (val === \"health\") {\r\n                rand = Math.round(Math.random() * 3) + 4;\r\n                return obj[rand];\r\n            }\r\n            else if (val === \"hit\") {\r\n                rand = Math.round(Math.random() * 3) + 8;\r\n                return obj[rand];\r\n            }\r\n            else if (val === \"dead\") {\r\n                return obj[12];\r\n            }\r\n        }\r\n\r\n    }\r\n}"],"sourceRoot":"/source/"}