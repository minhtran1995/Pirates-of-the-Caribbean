{"version":3,"sources":["scenes/loading.ts"],"names":[],"mappings":"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","file":"scenes/loading.js","sourcesContent":["/*\r\n ***************************************************************************************\r\n * Source file name : loading.ts                                                       *\r\n * Author's name : Duc Minh Tran (300771859)                                           *\r\n * Last Modified by : Duc Minh Tran (300771859)                                        *\r\n * Last Modified date : March 27 2016                                                  *\r\n * Program description : This is a webgame that use  a Side Scroller background        * \r\n *                                                                                     *  \r\n * Revision History : 1 - Update Internal Documentation                                *\r\n *                                                                                     *\r\n ***************************************************************************************\r\n*/\r\n\r\n\r\n// LOADING SCENE\r\nmodule scenes {\r\n    export class Loading extends objects.Scene {\r\n        //PRIVATE INSTANCE VARIABLES ++++++++++++\r\n        private _mainBG: createjs.Bitmap;\r\n        private _preloader: createjs.Bitmap;\r\n        private _lodingLable: objects.Label;\r\n        private _loadingBG: createjs.Bitmap;\r\n\r\n        private _queue: createjs.LoadQueue;\r\n        private static _flag: boolean;\r\n\r\n\r\n        //counter\r\n        private _counter: number;\r\n        //labels\r\n        private _loadingLabel: objects.Label;\r\n\r\n\r\n        // CONSTRUCTOR ++++++++++++++++++++++\r\n        constructor() {\r\n            super();\r\n        }\r\n\r\n        // PUBLIC METHODS +++++++++++++++++++++\r\n\r\n        // Start Method\r\n        public start(): void {\r\n            Loading._flag = false;\r\n            this._counter = 0;\r\n\r\n\r\n            //this part require a preload\r\n            this._queue = new createjs.LoadQueue();\r\n            this._queue.installPlugin(createjs.Sound);\r\n            this._queue.loadManifest([\r\n                { id: \"loading\", src: \"../../Assets/sample/loading-resized.jpg\" },\r\n                { id: \"PreloaderImage\", src: \"../../Assets/sample/steeringWheel-resized.png\" },\r\n            ]);\r\n            this._queue.on(\"complete\", this.addBitMaps, this);\r\n\r\n\r\n\r\n            // add this scene to the global stage container\r\n            stage.addChild(this);\r\n        }\r\n\r\n        // loading Scene updates here\r\n        public update(): void {\r\n            //im making sure that the preloader images is loaded, and then it will be modified here\r\n            if (Loading._flag) {\r\n                this._preloader.rotation += 3;\r\n\r\n                //update label after preload\r\n                if (this._counter % 30 === 0) {\r\n                    if (this._counter % 90 === 0) {\r\n                        this._loadingLabel.text = \"Loading.\";\r\n                        this._counter = 0;\r\n                    }\r\n                    else {\r\n                        this._loadingLabel.text += \".\";\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n\r\n            this._counter++;\r\n        }\r\n\r\n\r\n        public addBitMaps(): void {\r\n            //add background\r\n\r\n            this._loadingBG = new createjs.Bitmap(this._queue.getResult(\"loading\"));\r\n            this._loadingBG.regX = this._loadingBG.getBounds().width * 0.5;\r\n            this._loadingBG.regY = this._loadingBG.getBounds().height * 0.5;\r\n            this._loadingBG.x = config.Screen.CENTER_X;\r\n            this._loadingBG.y = config.Screen.CENTER_Y;\r\n            this.addChild(this._loadingBG);\r\n\r\n\r\n            this._preloader = new createjs.Bitmap(this._queue.getResult(\"PreloaderImage\"));\r\n            //i tried to get height and width of a bitmap            \r\n            this._preloader.regX = this._preloader.getBounds().width * 0.5;\r\n            this._preloader.regY = this._preloader.getBounds().height * 0.5;\r\n\r\n            this._preloader.x = config.Screen.CENTER_X;\r\n            this._preloader.y = config.Screen.CENTER_Y + 180;\r\n            this.addChild(this._preloader);\r\n            Loading._flag = true;\r\n\r\n            this._loadingLabel = new objects.Label(\r\n                \"Loading.\", \"35px Merienda One\",\r\n                \"#B40404\",\r\n                config.Screen.CENTER_X - 25,\r\n                config.Screen.CENTER_Y + 250, true);\r\n            this.addChild(this._loadingLabel);\r\n\r\n        }\r\n\r\n        //EVENT HANDLERS ++++++++++++++++++++\r\n\r\n\r\n    }\r\n}"],"sourceRoot":"/source/"}